apiVersion: apps/v1
kind: Deployment
metadata:
  name: therma-redis-keyspace-notification-consumer
spec:
  template:
    spec:
      containers:
      - name: application
        env:
        - name: REDIS_URL
          value: $(HARDWARE_REDIS_URL)
        - name: REDIS_HOST
          value: $(HARDWARE_REDIS_HOST)
        - name: AMQP_PASSWORD
          value: $(HARDWARE_AMQP_PASSWORD)
        - name: AMQP_VHOST
          value: /
        - name: AMQP_USERNAME
          value: $(HARDWARE_AMQP_USERNAME)
        - name: AMQP_HOST
          value: $(HARDWARE_AMQP_HOST)
        - name: AWS_ACCESS_KEY_ID
          value: $(REDIS_KEYSPACE_NOTIFICATION_CONSUMER_AWS_ACCESS_KEY_ID)
        - name: AWS_SECRET_ACCESS_KEY
          value: $(REDIS_KEYSPACE_NOTIFICATION_CONSUMER_AWS_SECRET_ACCESS_KEY)
        - name: LOG_LEVEL
          value: debug
apiVersion: apps/v1
kind: Deployment
metadata:
  name: therma-redis-alert-trigger-consumer
spec:
  template:
    spec:
      containers:
      - name: application
        env:
          - name: QUEUE_TCIP_ALERTS
            value: "tcip.alerts"
          - name: AMQP_SERVER
            value: amqp://$(MONITORING_AMQP_USERNAME):$(MONITORING_AMQP_PASSWORD)@$(MONITORING_AMQP_HOST):5672?heartbeat=30
          - name: QUEUE_TCIP_ALERTS_MESSAGE_TTL
            value: $(MONITORING_QUEUE_MESSAGE_TTL)
          - name: REDIS_URL
            value: $(MONITORING_REDIS_URL)
          - name: MISSING_DATA_DAYS_THRESHOLD
            value: "30"
          - name: MISSING_DATA_HOURS_TO_RESEND_ALERT
            value: "1"
          - name: MISSING_DATA_TIMEFRAME
            value: "10"
          - name: REDIS_DB_NUMBER
            value: "2"
